graph TD
    Start[Start IMPLEMENT Mode] --> CodeStruct[Code Structure]
    CodeStruct --> CoreImpl[Core Implementation]
    CoreImpl --> Testing[Testing]
    
    CodeStruct -->|Incomplete| StructReview[Structure Review]
    CoreImpl -->|Incomplete| ImplReview[Implementation Review]
    Testing -->|Failed| TestFix[Test Fixes]
    
    StructReview --> CodeStruct
    ImplReview --> CoreImpl
    TestFix --> Testing
    
    Testing --> NextMode[Next Mode]
    
    style Start fill:#f9d77e,stroke:#d9b95c
    style CodeStruct fill:#a8d5ff,stroke:#88b5e0
    style CoreImpl fill:#a8d5ff,stroke:#88b5e0
    style Testing fill:#a8d5ff,stroke:#88b5e0
    style StructReview fill:#ffcccc,stroke:#ff9999
    style ImplReview fill:#ffcccc,stroke:#ff9999
    style TestFix fill:#ffcccc,stroke:#ff9999
    style NextMode fill:#d9b3ff,stroke:#b366ff 